---
title: Windows containers in Kubernetes
content_type: concept
weight: 65
---

<!-- overview -->

Windows एप्लिकेशन कई संगठनों में चलने वाली सेवाओं और अनुप्रयोगों के एक बड़े हिस्से का गठन करते हैं। [Windows कंटेनर](https://aka.ms/windowscontainers) प्रक्रियाओं और पैकेज निर्भरता को समाहित करने का एक तरीका प्रदान करते हैं, जिससे DevOps प्रथाओं का उपयोग करना और विंडोज अनुप्रयोगों के लिए क्लाउड नेटिव पैटर्न का पालन करना आसान हो जाता है। 

विंडोज-आधारित अनुप्रयोगों और लिनक्स-आधारित अनुप्रयोगों में निवेश वाले संगठनों को अपने कार्यभार को प्रबंधित करने के लिए अलग ऑर्केस्ट्रेटर की तलाश करने की आवश्यकता नहीं है, जिससे ऑपरेटिंग सिस्टम की परवाह किए बिना, उनके परिनियोजन में परिचालन क्षमता में वृद्धि होती है।

<!-- body -->

## कुबेरनेट्स में विंडोज नोड्स

कुबेरनेट्स में विंडोज कंटेनरों के ऑर्केस्ट्रेशन को सक्षम करने के लिए, अपने मौजूदा लिनक्स क्लस्टर में विंडोज नोड्स शामिल करें। कुबेरनेट्स पर {{< glossary_tooltip text="पॉड्स" term_id="pod" >}} में विंडोज कंटेनरों को शेड्यूल करना लिनक्स-आधारित कंटेनरों को शेड्यूल करने के समान है।

विंडोज कंटेनर चलाने के लिए, आपके कुबेरनेट्स क्लस्टर में कई ऑपरेटिंग सिस्टम शामिल होने चाहिए। 
जबकि आप केवल लिनक्स पर {{< glossary_tooltip text="कंट्रोल प्लेन" term_id="control-plane" >}} चला सकते हैं, आप अपने वर्कलोड की जरूरतों के आधार पर विंडोज या लिनक्स चलाने वाले वर्कर नोड्स को तैनात कर सकते हैं।

Windows {{< glossary_tooltip text="नोड्स" term_id="node" >}} [समर्थित](#windows-os-version-support) हैं बशर्ते कि ऑपरेटिंग सिस्टम Windows Server 2019 हो।

यह दस्तावेज़ *Windows कंटेनर* शब्द का उपयोग प्रोसेस आइसोलेशन वाले विंडोज़ कंटेनर के लिए करता है। कुबेरनेट्स [हाइपर-वी](https://docs.microsoft.com/en-us/virtualization/windowscontainers/manage-containers/hyperv-container) आइसोलेशन के साथ विंडोज कंटेनर चलाने का समर्थन नहीं करता है

## संसाधन प्रबंधन

लिनक्स नोड्स पर, {{< glossary_tooltip text="cgroups" term_id="cgroup" >}} को संसाधन नियंत्रण के लिए पॉड सीमा के रूप में उपयोग किया जाता है। नेटवर्क, प्रक्रिया और फ़ाइल सिस्टम अलगाव के लिए उस सीमा के भीतर कंटेनर बनाए जाते हैं। लिनक्स cgroup APIs का उपयोग CPU, I/O, और मेमोरी उपयोग के आँकड़े एकत्र करने के लिए किया जा सकता है।

इसके विपरीत, विंडोज़ एक कंटेनर में सभी प्रक्रियाओं को शामिल करने और होस्ट से तार्किक अलगाव प्रदान करने के लिए सिस्टम नेमस्पेस फ़िल्टर के साथ प्रति कंटेनर _जॉब ऑब्जेक्ट_ का उपयोग करता है।
(_जॉब ऑब्जेक्ट्स_ एक विंडोज़ प्रक्रिया अलगाव तंत्र हैं और कुबेरनेट्स जिसे {{< glossary_tooltip term_id="जॉब" text="Job" >}} कहते हैं, उससे भिन्न हैं)।

नेमस्पेस फ़िल्टरिंग के बिना विंडोज कंटेनर चलाने का कोई तरीका नहीं है। इसका मतलब यह है कि होस्ट के संदर्भ में सिस्टम विशेषाधिकारों का दावा नहीं किया जा सकता है, और इस प्रकार विशेषाधिकार प्राप्त कंटेनर विंडोज़ पर उपलब्ध नहीं हैं।
कंटेनर होस्ट से एक पहचान ग्रहण नहीं कर सकते क्योंकि सुरक्षा खाता प्रबंधक (एसएएम) अलग है। 

#### मेमोरी रिजर्वेशन {#resource-management-memory}

विंडोज़ में आउट-ऑफ-मेमोरी प्रोसेस किलर नहीं है जैसा कि लिनक्स में है। विंडोज हमेशा सभी उपयोगकर्ता-मोड मेमोरी आवंटन को वर्चुअल मानता है, और पेजफाइल अनिवार्य हैं (लिनक्स पर, क्यूबलेट डिफ़ॉल्ट रूप से स्वैप स्पेस सक्षम के साथ शुरू नहीं होगा)।

विंडोज़ नोड्स कंटेनरों में चल रही प्रक्रियाओं के लिए स्मृति को कम नहीं करते हैं। शुद्ध प्रभाव यह है कि विंडोज़ मेमोरी की स्थिति को उसी तरह से समाप्त नहीं करेगा जिस तरह से लिनक्स करता है, और मेमोरी से बाहर (ओओएम) समाप्ति के अधीन होने के बजाय पेज को डिस्क पर संसाधित करता है। यदि मेमोरी का अधिक प्रावधान किया गया है और सभी भौतिक मेमोरी समाप्त हो गई है, तो पेजिंग प्रदर्शन को धीमा कर सकता है।

आप क्यूबलेट पैरामीटर `--kubelet-reserve` और/या `--system-reserve` का उपयोग करके वर्कलोड के लिए मेमोरी उपयोग पर सीमाएं लगा सकते हैं; ये नोड (कंटेनरों के बाहर) पर मेमोरी उपयोग के लिए खाते हैं, और [NodeAllocatable](/docs/tasks/administer-cluster/reserve-compute-resources.md#node-allocatable) को कम करते हैं।
जैसे ही आप वर्कलोड परिनियोजित करते हैं, कंटेनरों पर संसाधन सीमाएँ निर्धारित करें। यह `NodeAllocatable` से भी घटाता है और शेड्यूलर को नोड भर जाने के बाद अधिक पॉड जोड़ने से रोकता है।

{{< note >}}
जब आप विंडोज कंटेनर के लिए मेमोरी रिसोर्स लिमिट सेट करते हैं, तो आपको या तो एक लिमिट सेट करनी चाहिए और मेमोरी रिक्वेस्ट को अनिर्दिष्ट छोड़ देना चाहिए, या रिक्वेस्ट को लिमिट के बराबर सेट करना चाहिए।
{{< /note >}}

विंडोज़ पर, अति-प्रावधान से बचने के लिए अच्छा अभ्यास यह है कि क्यूबलेट को विंडोज़, कुबेरनेट्स और कंटेनर रनटाइम ओवरहेड्स के लिए खाते में कम से कम 2GiB की सिस्टम आरक्षित मेमोरी के साथ कॉन्फ़िगर किया जाए।

#### CPU आरक्षण {#resource-management-cpu}

ऑपरेटिंग सिस्टम, कंटेनर रनटाइम और कुबेरनेट्स होस्ट प्रक्रियाओं जैसे क्यूबलेट द्वारा CPU उपयोग के लिए खाते के लिए, आप कुल CPU का एक प्रतिशत आरक्षित कर सकते हैं (और चाहिए भी)। आपको इस CPU आरक्षण को नोड पर उपलब्ध CPU कोर की संख्या को ध्यान में रखते हुए निर्धारित करना चाहिए। आरक्षित करने के लिए CPU प्रतिशत पर निर्णय लेने के लिए, प्रत्येक नोड के लिए अधिकतम पॉड घनत्व की पहचान करें और वहां चल रही सिस्टम सेवाओं के CPU उपयोग की निगरानी करें, फिर एक ऐसा मान चुनें जो आपके कार्यभार की जरूरतों को पूरा करता हो।

आप नोड पर (कंटेनरों के बाहर) CPU उपयोग के लिए क्यूबलेट पैरामीटर `--kubelet-reserve` और/या `--system-reserve` का उपयोग करके वर्कलोड के लिए CPU उपयोग पर सीमा लगा सकते हैं।
यह `NodeAllocatable` को कम करता है। पॉड प्लेसमेंट का निर्धारण करते समय क्लस्टर-वाइड शेड्यूलर इस आरक्षण को ध्यान में रखता है।

विंडोज़ पर, क्यूबलेट क्यूबलेट प्रक्रिया की प्राथमिकता निर्धारित करने के लिए कमांड-लाइन ध्वज का समर्थन करता है: `--windows-priorityclass`। यह ध्वज क्यूबलेट प्रक्रिया को विंडोज होस्ट पर चलने वाली अन्य प्रक्रियाओं की तुलना में अधिक CPU समय स्लाइस प्राप्त करने की अनुमति देता है। स्वीकार्य मानों और उनके अर्थ के बारे में अधिक जानकारी [Windows प्रायोरिटी क्लासेस](https://docs.microsoft.com/en-us/windows/win32/procthread/scheduling-priorities#priority-class) पर उपलब्ध है। यह सुनिश्चित करने के लिए कि रनिंग पॉड्स CPU चक्रों के क्यूबलेट को भूखा न रखें, इस फ्लैग को `ABOVE_NORMAL_PRIORITY_CLASS` या इससे ऊपर पर सेट करें।

## संगतता और सीमाएं {#limitations}

कुछ नोड सुविधाएँ केवल तभी उपलब्ध होती हैं जब आप एक विशिष्ट [कंटेनर रनटाइम](#container-runtime) का उपयोग करते हैं; अन्य विंडोज नोड्स पर उपलब्ध नहीं हैं, जिनमें शामिल हैं:

* HugePages: Windows कंटेनरों के लिए समर्थित नहीं है
* विशेषाधिकार प्राप्त कंटेनर: Windows कंटेनरों के लिए समर्थित नहीं है
* TerminationGracePeriod: कंटेनरडी की आवश्यकता है

साझा नेमस्पेस की सभी सुविधाएं समर्थित नहीं हैं। अधिक जानकारी के लिए [API संगतता](#api) देखें।

कुबेरनेट्स के खिलाफ परीक्षण किए गए विंडोज संस्करणों के विवरण के लिए [Windows ओएस संस्करण संगतता](#windows-os-version-support) देखें।

API और कुबेक्टल के नजरिए से, Windows कंटेनर लिनक्स-आधारित कंटेनरों की तरह ही व्यवहार करते हैं। हालाँकि, प्रमुख कार्यक्षमता में कुछ उल्लेखनीय अंतर हैं जिन्हें इस खंड में उल्लिखित किया गया है।
